{
  "3": {
    "inputs": {
      "seed": 608760308299353,
      "steps": 25,
      "cfg": 5.5,
      "sampler_name": "dpmpp_2m",
      "scheduler": "normal",
      "denoise": 1,
      "model": [
        "4",
        0
      ],
      "positive": [
        "6",
        0
      ],
      "negative": [
        "7",
        0
      ],
      "latent_image": [
        "5",
        0
      ]
    },
    "class_type": "KSampler",
    "_meta": {
      "title": "KSampler"
    }
  },
  "4": {
    "inputs": {
      "ckpt_name": "OfficialStableDiffusion/sd3.5_large.safetensors"
    },
    "class_type": "CheckpointLoaderSimple",
    "_meta": {
      "title": "Choose your checkpoint ( = image generation model)"
    }
  },
  "5": {
    "inputs": {
      "width": 1024,
      "height": 1024,
      "batch_size": 1
    },
    "class_type": "EmptyLatentImage",
    "_meta": {
      "title": "Empty Latent Image"
    }
  },
  "6": {
    "inputs": {
      "text": [
        "48",
        0
      ],
      "clip": [
        "43",
        0
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Prompt)"
    }
  },
  "7": {
    "inputs": {
      "text": "",
      "clip": [
        "43",
        0
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Prompt)"
    }
  },
  "8": {
    "inputs": {
      "samples": [
        "3",
        0
      ],
      "vae": [
        "4",
        2
      ]
    },
    "class_type": "VAEDecode",
    "_meta": {
      "title": "VAE Decode"
    }
  },
  "9": {
    "inputs": {
      "filename_prefix": "ComfyUI",
      "images": [
        "8",
        0
      ]
    },
    "class_type": "SaveImage",
    "_meta": {
      "title": "Save Image"
    }
  },
  "11": {
    "inputs": {},
    "class_type": "ai4artsed_openrouter_key",
    "_meta": {
      "title": "Secure Access to OpenRouter API Key"
    }
  },
  "20": {
    "inputs": {
      "clip_name": "clip_g.safetensors",
      "type": "stable_diffusion",
      "device": "default"
    },
    "class_type": "CLIPLoader",
    "_meta": {
      "title": "Load CLIP"
    }
  },
  "26": {
    "inputs": {
      "value": [
        "37",
        0
      ]
    },
    "class_type": "PrimitiveString",
    "_meta": {
      "title": "ai4artsed_text_prompt"
    }
  },
  "37": {
    "inputs": {
      "value": "a car driving through  a mcdonalds drive in"
    },
    "class_type": "PrimitiveStringMultiline",
    "_meta": {
      "title": "Just a more convenient input for your prompt"
    }
  },
  "41": {
    "inputs": {
      "input_prompt": [
        "26",
        0
      ],
      "input_context": [
        "44",
        0
      ],
      "style_prompt": "You received two inputs: 1) the input_prompt and 2) the input_context. \n\nTransform the input_prompt into an image description according to the instructions defined in the input_context. Explicitely transform the input_context as cultural cf. artistic. cf intervening context. Also transform genres/artistic traditions in a concrete way (i.e. is it a dance, a photo, a painting, a song, a movie, a statue/sculpture? how should it be translated into an image?)\n\nThis is not a linguistic translation, but a cultural, aesthetic, cosmologic. semantic and structural transformation. \nReconstruct all entities and their relations as specified, ensuring that:\n- Each entity is retained – or respectively transformed – as instructed.\n- Each relation is altered in line with the particular aesthetics, genre-typical traits, and logic of the “Context”. Be explicit about visual traits aesthetics in terms of materials, techniques, composition, and overall atmosphere. Mention the input_context als cultural, cf. artistic, c.f intervening context in your OUTPUT explicitely.\n",
      "api_key": [
        "11",
        0
      ],
      "model": "openrouter/mistralai/mixtral-8x7b-instruct [cultural-expert / $0.45/$0.70]",
      "debug": "disable",
      "unload_model": "yes"
    },
    "class_type": "ai4artsed_prompt_interception",
    "_meta": {
      "title": "AI4ArtsEd Prompt Interception"
    }
  },
  "42": {
    "inputs": {
      "value": "You have received two inputs:\ninput_prompt: a description of a scene, action, or situation framed in a culturally non-Yorùbá idiom.\ninput_context: a reference framework indicating that Yorùbá cultural, ethical, cosmological and artistic logics shall govern the transformation.\n\nHonour the original input by translating it into a formulation aligned with the ontological, social, and spiritual order of Yorùbá life. Treat all named elements not as isolated data, but as beings-within-relation, embedded in a cosmological field governed by àṣẹ, òrun, and ayé.\nProceed with reverence (ìbá), recognizing the lineage, ancestral resonance, and ritual structure implicit in all action.\n\nGuidance for Cultural Transformation:\nRitual Contextualization: All events take place within a ritual-ethical frame. Translate secular or entertainment-focused content into actions of devotion, social ceremony, community gathering, ancestral invocation, or òrìṣà-related practice.\n\nReassign Roles: Individuals are not abstract agents but persons-of-role: elder, diviner, mother of twins, ògboni elder, drummer, shrine keeper. Recast actions accordingly, anchoring them in positional, gendered, and ritual responsibilities.\n\nTemporal Reframing: Replace linear time with cyclical or ritual time (festival cycles, life transitions, cosmological recurrences). If urgency or novelty is expressed, render it as an unfolding of divine rhythm or ancestral return.\n\nMaterial and Symbolic Anchoring: All tools, clothes, objects must carry symbolic materiality (iron = Ogun; clay = Earth; beads = sacred status; indigo = cosmic protection). Do not refer to modern technologies unless ritually reframed.\n\nDealing with western/colonial modernity: Western/modern technological objects, things, names, institutions are analyzed and transferred to their relational meaning in Yoruba Culture and Philosophy according to their function for the whole. E.g., cars -> vehicles, spatial mobility; restaurants -> collective nourishment, place for feasts. etc. Never use western names, brand names, things in your output.\n\nEthical Texture:\nEnsure that all actions express or are challenged by core virtues: ìwà pẹ̀lẹ́ (gentle character), ìbá (respect), òtítọ́ (truthfulness), ìbáṣepọ̀ (relational balance). Your language must embody these orientations.\nNo human is an isolated self. Every figure is a bearer of role and destiny, embedded in lineage, community, and òrun/ayé relations.\nSingular presence is always reframed as communal function: individual agency appears only as node within ritual, ancestral, or genealogical order.\n\n⚠ Negative Terms such as \"no ...\" or \"not ... but\" or \"instead of ...\" are STRICTLY FORBIDDEN! Everything you say has to be logically positive. NO NEGATIONS Whatsoever. Do not say what it is not. Instead, render it into a world where it always-already has meaning as part of Yorùbá cosmology.\n\nLet your language bear the marks of alignment, not assertion. This is not a display, but a re-enactment of knowledge within a world sustained by continuity, relation, and àṣẹ.\n\nNEVER REPEAT THE INPUT PROMPT! IT IS FORBIDDEN TO USE MODERN TERMS FROM THE INPUT PROMPT WHATSOEVER IN YOUR OUTPUT!\nNEVER EVER USE BRAND NAMES!"
    },
    "class_type": "PrimitiveStringMultiline",
    "_meta": {
      "title": "Interceptive context - REPLACE THIS AS YOU SEE FIT (default is meant for the AI4ArtsEd web-interface)"
    }
  },
  "43": {
    "inputs": {
      "clip_name1": "clip_g.safetensors",
      "clip_name2": "t5xxl_enconly.safetensors",
      "type": "sd3",
      "device": "default"
    },
    "class_type": "DualCLIPLoader",
    "_meta": {
      "title": "DualCLIPLoader"
    }
  },
  "44": {
    "inputs": {
      "value": [
        "42",
        0
      ]
    },
    "class_type": "PrimitiveString",
    "_meta": {
      "title": "ai4artsed_context_prompt"
    }
  },
  "46": {
    "inputs": {
      "preview": "",
      "source": [
        "41",
        0
      ]
    },
    "class_type": "PreviewAny",
    "_meta": {
      "title": "cultural translation"
    }
  },
  "47": {
    "inputs": {
      "input_prompt": "",
      "input_context": "professional translator",
      "style_prompt": "Translate the prompt into English with maximal semantic preservation. \nMaintain the original structure, and preserve all culturally specific terms or non-translatable phrases in their original form. \nDo not translate proper names, ritual terms, or material names unless they have a common English usage. \nMark such terms with double brackets, e.g. [[egungun]], and preserve their position. \nDo not paraphrase, interpret, or summarize. Do not add any comments or explanations.\nReturn only the translated prompt as plain text.",
      "api_key": "",
      "model": "local/mistral:7b",
      "debug": "disable",
      "unload_model": "yes"
    },
    "class_type": "ai4artsed_prompt_interception",
    "_meta": {
      "title": "AI4ArtsEd Translation_english"
    }
  },
  "48": {
    "inputs": {
      "input_prompt": [
        "41",
        0
      ],
      "input_context": "Work strictly within Yorùbá visual logic: form enacts àṣẹ and embeds every presence in the field of ayé/ọ̀run. Figuration is role-typified with head dominance (orí / orí inú): enlarged head, frontal gaze, reduced mimicry, dignified codified posture; scale and axis index rank and spiritual force. Include ìbejì pairings, ancestral presence, and roles such as diviner, drummer, elder, ruler, mother of twins, ancestor.\n\nOrganize space hieratically, axially or radially; never by linear perspective. Generate relation through additive/serial layering (altar/procession/ensemble). Encode genealogy, ritual, and authority through proximity, overlap, stacking, sequencing, and axial relations. Think in ensembles (shrine/procession/court), not isolated objects.\n\nShape rhythm, pattern, and surface in the sense of ojú-ọ̀nà: rhythmic repetition (adire motifs, bead rows, carved traces), surface as semiosis (carved/woven/beaded/dyed), polished ↔ matte as meaningful contrast. Material is meaning: wood (living mediation), iron = Ògún (agency/technology), copper alloy/terracotta = Ifẹ̀ traditions, beads/cowries (status, fertility, wealth), indigo cloth (adire), clay/earth pigment (ancestral grounding). Medium follows the ritual function of the scene.\n\nUse color as index, not effect: White = Ọbatálá (purity/eldest), Red = ẹ̀jẹ̀ (life-force/transformation), Black = ancestral gravity/depth, Indigo/Blue = ọ̀run (authority/protection), Yellow/Gold = Òṣun (flow/abundance). Employ contextual pairings: Ṣàngó (red/white, double axe), Ògún (iron/forging trace), Òṣun (river/jewelry), Èṣù (red/black, mediation/ambiguity).\n\nTemporalize cyclically and performatively: activation through wearing/dance/drumming/incense/food where ritually entailed. Masking-bodies (egúngún, gèlèdè) are moving textile/bead configurations with sound/scent/motion as part of image logic.\n\nOperational heuristics: figure-as-role (large orí, frontal, dignified), relation-before-optics (rank/àṣẹ organizes space), rhythm-before-perspective (pattern organizes space-time), material-as-sign (woodgrain, iron sheen, indigo folds, bead glitter, clay matte), color-as-index (status/force), ensemble-thinking (shrine/procession/court instead of isolated object). Atmosphere arises from hierarchical spatial order, rhythmic cadence, and material traces — never from affective labels. Avoid psychological individualization; identity is expressed through role, axis, scale, and cosmological embedding, never through isolated subjectivity.\n",
      "style_prompt": "YOUR OUTPUT MUST NOT EXCEED 250 WORDS!\n\nYou received two inputs: 1) the input_prompt and 2) the input_context. \n\nTransform the following input text—regardless of genre—into a single, uninterrupted paragraph structured for encoding by a T5 model and subsequent conditioning of a Stable Diffusion 3.5 (or Flux1) image generation model. Regard the input_context als mandatory aesthetic and artistic context. Derive your visual descriptions from this cultural context ONLY!\n\nRULES:\n1) You must retain all original words exactly once: do not omit, duplicate, or paraphrase beyond necessary syntactic adjustments. \n2) Do translate content into a visual depiction/description. Do not add or translate content unless an exact transliteration or orthographic variant is supplied in the source.\n3) When the original tells a story, pick a key scene from the story and turn the text into a scenic description, using the original words and expressions.  \n4) Negative Terms \"no ...\" are STRICTLY FORBIDDEN! Everything you say has to be logically positive. NO NEGATIONS Whatsoever.\n\nGUIDANCE:\nConsider the following categories as guideline for your professional prompting process:\n- Core subject (approx. 10–30 tokens): Identify and foreground the principal subject matter as fully specified in the source.\n- Action (10–40 tokens): Preserve any dynamic, procedural, or temporal structures, expressed clearly through grammatically embedded verb phrases.\n- Relational context (30–100 tokens): Expand on spatial relations, historical or cultural frameworks, ecological configurations, embodied perspectives, and temporal situatedness, all inferred from internal content only.\n- Attributive qualities (30–80 tokens): Elaborate sensory and atmospheric descriptors—light, surface, sound, temperature, tactility, material behaviour—based on concrete and culturally situated evidence. Avoid cliché mappings such as “melancholy → rain” or “futurism → neon.” Do not use general affective adjectives such as “beautiful,” “epic,” or “highly detailed.” Instead, convey mood through spatial structure, material traces, or historical signifiers.\n- Material, stylistic and medial references (10–40 tokens): If applicable, retain or clarify materialities (pictorial mediality), stylistic provenance using historically anchored terms (e.g., “early Bauhaus sketch,” “Qing-dynasty monochrome ink”). Avoid genre tropes unless explicitly included in the original text.\n- Technical parameters (0–20 tokens): Place any camera data, aspect ratio at the end of the prompt. Use these codes to communicate technical instructions \n\n\nAdditional requirements:\n– If the input contains explicit negations (e.g., “no neon”), isolate and place them at the end of the prompt after an em dash as a negative prompt clause.\n– If the source uses conflicting descriptors (e.g., “nocturnal daylight”), preserve both and separate with a slash ( / ) to indicate intentional contradiction.\n– Preserve diacritics and original orthography for all non-English terms. Do not transliterate unless a dual form is provided.\n– For ambiguous or poetic language, preserve ambiguity. If metaphors operate structurally (e.g., “grief carved into the orchard”), translate them into spatial/material compositions rather than interpretive paraphrase.\n– If vague temporal expressions appear (e.g., “ancient”), translate them into relative or historical chronologies only if unambiguous context exists.\n\nFinal output must be exactly one paragraph, without bullet points, tags, headings, or formatting cues.\n\n!YOUR OUTPUT MUST NOT EXCEED 250 WORDS!",
      "api_key": "",
      "model": "openrouter/mistralai/mistral-nemo [multilingual / $0.01/$0.001]",
      "debug": "enable",
      "unload_model": "no"
    },
    "class_type": "ai4artsed_prompt_interception",
    "_meta": {
      "title": "Promtp optimization for t5"
    }
  },
  "49": {
    "inputs": {
      "preview": "",
      "source": [
        "48",
        0
      ]
    },
    "class_type": "PreviewAny",
    "_meta": {
      "title": "final prompt"
    }
  }
}