{
  "name": "legacy_split_and_combine",
  "type": "output_chunk",
  "backend_type": "comfyui",
  "execution_mode": "legacy_workflow",
  "media_type": "image",
  "description": "Legacy Split and Combine workflow - vector fusion with prompt interpolation. Produces 4 images.",
  "workflow": {
    "3": {
      "inputs": {
        "seed": [
          "104",
          0
        ],
        "steps": 20,
        "cfg": 5,
        "sampler_name": "euler",
        "scheduler": "normal",
        "denoise": 1,
        "model": [
          "129",
          0
        ],
        "positive": [
          "133",
          0
        ],
        "negative": [
          "134",
          0
        ],
        "latent_image": [
          "127",
          0
        ]
      },
      "class_type": "KSampler",
      "_meta": {
        "title": "KSampler"
      }
    },
    "6": {
      "inputs": {
        "text": [
          "137",
          0
        ],
        "clip": [
          "101",
          0
        ]
      },
      "class_type": "CLIPTextEncode",
      "_meta": {
        "title": "CLIP Text Encode prompt#2 POSITIVE"
      }
    },
    "8": {
      "inputs": {
        "samples": [
          "3",
          0
        ],
        "vae": [
          "129",
          2
        ]
      },
      "class_type": "VAEDecode",
      "_meta": {
        "title": "VAE Decode"
      }
    },
    "9": {
      "inputs": {
        "filename_prefix": "ComfyUI",
        "images": [
          "8",
          0
        ]
      },
      "class_type": "SaveImage",
      "_meta": {
        "title": "Combined Vectors"
      }
    },
    "21": {
      "inputs": {
        "text": [
          "43",
          0
        ],
        "clip": [
          "101",
          0
        ]
      },
      "class_type": "CLIPTextEncode",
      "_meta": {
        "title": "CLIP Text Encode prompt#1  POSITIVE"
      }
    },
    "24": {
      "inputs": {
        "text": "watermark",
        "clip": [
          "101",
          0
        ]
      },
      "class_type": "CLIPTextEncode",
      "_meta": {
        "title": "CLIP Text Encode prompt#2  NEGATIVE"
      }
    },
    "25": {
      "inputs": {
        "text": "watermark",
        "clip": [
          "101",
          0
        ]
      },
      "class_type": "CLIPTextEncode",
      "_meta": {
        "title": "CLIP Text Encode NEGATIVE (t5)"
      }
    },
    "43": {
      "inputs": {
        "value": "an Apple - INJECT Prompt1 HERE"
      },
      "class_type": "PrimitiveString",
      "_meta": {
        "title": "ai4artsed_text_prompt 1"
      }
    },
    "50": {
      "inputs": {
        "value": 0.5
      },
      "class_type": "PrimitiveFloat",
      "_meta": {
        "title": "set t5-optimized prompt Influence (beween -75 and +78)"
      }
    },
    "101": {
      "inputs": {
        "clip_name1": "clip_g.safetensors",
        "clip_name2": "t5xxl_enconly.safetensors",
        "type": "sd3",
        "device": "default"
      },
      "class_type": "DualCLIPLoader",
      "_meta": {
        "title": "DualCLIPLoader"
      }
    },
    "104": {
      "inputs": {
        "value": -237268207006991
      },
      "class_type": "PrimitiveInt",
      "_meta": {
        "title": "seed"
      }
    },
    "110": {
      "inputs": {
        "filename_prefix": "ComfyUI",
        "images": [
          "111",
          0
        ]
      },
      "class_type": "SaveImage",
      "_meta": {
        "title": "Reference (Prompt1 + Prompt 2)"
      }
    },
    "111": {
      "inputs": {
        "samples": [
          "114",
          0
        ],
        "vae": [
          "129",
          2
        ]
      },
      "class_type": "VAEDecode",
      "_meta": {
        "title": "VAE Decode"
      }
    },
    "114": {
      "inputs": {
        "seed": [
          "104",
          0
        ],
        "steps": 20,
        "cfg": 5,
        "sampler_name": "euler",
        "scheduler": "normal",
        "denoise": 1,
        "model": [
          "129",
          0
        ],
        "positive": [
          "115",
          0
        ],
        "negative": [
          "116",
          0
        ],
        "latent_image": [
          "127",
          0
        ]
      },
      "class_type": "KSampler",
      "_meta": {
        "title": "KSampler"
      }
    },
    "115": {
      "inputs": {
        "text": [
          "138",
          0
        ],
        "clip": [
          "101",
          0
        ]
      },
      "class_type": "CLIPTextEncode",
      "_meta": {
        "title": "CLIP Text Encode POSITIVE Prompt 1+2 concatenated"
      }
    },
    "116": {
      "inputs": {
        "text": "watermark",
        "clip": [
          "101",
          0
        ]
      },
      "class_type": "CLIPTextEncode",
      "_meta": {
        "title": "CLIP Text Encode NEGATIVE (t5)"
      }
    },
    "121": {
      "inputs": {
        "seed": [
          "104",
          0
        ],
        "steps": 20,
        "cfg": 5,
        "sampler_name": "euler",
        "scheduler": "normal",
        "denoise": 1,
        "model": [
          "129",
          0
        ],
        "positive": [
          "21",
          0
        ],
        "negative": [
          "24",
          0
        ],
        "latent_image": [
          "127",
          0
        ]
      },
      "class_type": "KSampler",
      "_meta": {
        "title": "KSampler"
      }
    },
    "123": {
      "inputs": {
        "samples": [
          "121",
          0
        ],
        "vae": [
          "129",
          2
        ]
      },
      "class_type": "VAEDecode",
      "_meta": {
        "title": "VAE Decode"
      }
    },
    "124": {
      "inputs": {
        "filename_prefix": "ComfyUI",
        "images": [
          "123",
          0
        ]
      },
      "class_type": "SaveImage",
      "_meta": {
        "title": "Prompt 1 only"
      }
    },
    "127": {
      "inputs": {
        "width": 1024,
        "height": 1024,
        "batch_size": 1
      },
      "class_type": "EmptyLatentImage",
      "_meta": {
        "title": "Empty Latent Image"
      }
    },
    "128": {
      "inputs": {
        "seed": [
          "104",
          0
        ],
        "steps": 20,
        "cfg": 5,
        "sampler_name": "euler",
        "scheduler": "normal",
        "denoise": 1,
        "model": [
          "129",
          0
        ],
        "positive": [
          "6",
          0
        ],
        "negative": [
          "24",
          0
        ],
        "latent_image": [
          "127",
          0
        ]
      },
      "class_type": "KSampler",
      "_meta": {
        "title": "KSampler"
      }
    },
    "129": {
      "inputs": {
        "ckpt_name": "OfficialStableDiffusion/sd3.5_large.safetensors"
      },
      "class_type": "CheckpointLoaderSimple",
      "_meta": {
        "title": "Load Checkpoint"
      }
    },
    "130": {
      "inputs": {
        "samples": [
          "128",
          0
        ],
        "vae": [
          "129",
          2
        ]
      },
      "class_type": "VAEDecode",
      "_meta": {
        "title": "VAE Decode"
      }
    },
    "131": {
      "inputs": {
        "filename_prefix": "ComfyUI",
        "images": [
          "130",
          0
        ]
      },
      "class_type": "SaveImage",
      "_meta": {
        "title": "Prompt 2 only"
      }
    },
    "133": {
      "inputs": {
        "alpha": [
          "50",
          0
        ],
        "interpolation_method": "spherical",
        "steps": 2,
        "conditioning_a": [
          "21",
          0
        ],
        "conditioning_b": [
          "6",
          0
        ]
      },
      "class_type": "ai4artsed_conditioning_fusion",
      "_meta": {
        "title": "AI4ArtsEd Conditioning Fusion POSITIVE"
      }
    },
    "134": {
      "inputs": {
        "alpha": [
          "50",
          0
        ],
        "interpolation_method": "spherical",
        "steps": 2,
        "conditioning_a": [
          "25",
          0
        ],
        "conditioning_b": [
          "24",
          0
        ]
      },
      "class_type": "ai4artsed_conditioning_fusion",
      "_meta": {
        "title": "AI4ArtsEd Conditioning Fusion NEGATIVE"
      }
    },
    "137": {
      "inputs": {
        "value": "a banana - INJECT Prompt2 HERE"
      },
      "class_type": "PrimitiveString",
      "_meta": {
        "title": "ai4artsed_text_prompt 2"
      }
    },
    "138": {
      "inputs": {
        "string_a": [
          "43",
          0
        ],
        "string_b": [
          "137",
          0
        ],
        "delimiter": " and "
      },
      "class_type": "StringConcatenate",
      "_meta": {
        "title": "ai4artsed_text_prompt 1+2"
      }
    }
  },
  "prompt_injection": {
    "search_by_title": "ai4artsed_text_prompt",
    "fallback_node": "138",
    "fallback_field": "inputs.string_a"
  },
  "input_mappings": {
    "combination_type": [
      {
        "node_id": "133",
        "field": "inputs.interpolation_method"
      },
      {
        "node_id": "134",
        "field": "inputs.interpolation_method"
      }
    ],
    "prompt1": [
      {
        "node_id": "43",
        "field": "inputs.value"
      }
    ],
    "prompt2": [
      {
        "node_id": "137",
        "field": "inputs.value"
      }
    ]
  },
  "estimated_duration_seconds": 60,
  "expected_outputs": 4
}
