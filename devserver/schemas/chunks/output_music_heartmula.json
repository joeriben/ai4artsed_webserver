{
  "name": "output_music_heartmula",
  "type": "output_chunk",
  "backend_type": "heartmula",
  "media_type": "music",
  "description": "HeartMuLa Music Generation - LLM-based music from lyrics and tags",

  "input_mappings": {
    "lyrics": {
      "source": "{{TEXT_1}}",
      "description": "Song lyrics with structure markers [Verse], [Chorus], [Bridge], etc."
    },
    "tags": {
      "source": "{{TEXT_2}}",
      "description": "Comma-separated style tags (genre, mood, instruments, tempo)"
    },
    "temperature": {
      "default": 1.0,
      "description": "Creativity (0.1-2.0)"
    },
    "topk": {
      "default": 50,
      "description": "Token sampling parameter"
    },
    "cfg_scale": {
      "default": 1.5,
      "description": "Classifier-free guidance scale"
    },
    "max_audio_length_ms": {
      "default": 240000,
      "description": "Maximum audio length in milliseconds (240000 = 4 min)"
    },
    "seed": {
      "default": "random",
      "description": "Seed for reproducibility"
    }
  },

  "output_mapping": {
    "output_type": "music",
    "format": "mp3",
    "description": "Generated MP3 audio from HeartMuLa"
  },

  "meta": {
    "estimated_duration_seconds": "120-300",
    "quality_rating": 2,
    "requires_gpu": true,
    "gpu_vram_mb": 16000,
    "model_file": "HeartMuLa-RL-oss-3B-20260123",
    "supported_languages": ["en", "zh", "ja", "ko", "es"],
    "notes": "HeartMuLa is a family of open-sourced music foundation models. Generates music conditioned on lyrics and tags. Requires ~12-16GB VRAM for full quality, supports lazy_load for lower VRAM systems.",
    "optimization_instruction": "Transform the input into structured lyrics with [Verse], [Chorus], [Bridge] markers and comma-separated style tags. Focus on musical elements: genre, mood, tempo, instruments, vocal style. Lyrics should be poetic and rhythmic."
  }
}
