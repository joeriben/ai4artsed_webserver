{
  "name": "output_image_sd35_triton",
  "type": "output_chunk",
  "backend_type": "triton",
  "media_type": "image",
  "description": "SD3.5 Large via NVIDIA Triton - High-performance batched inference for workshops",

  "triton_config": {
    "model_name": "sd35_pipeline",
    "server_url": "localhost:8000",
    "grpc_url": "localhost:8001",
    "timeout_seconds": 120,
    "enable_batching": true,
    "preferred_batch_sizes": [2, 4]
  },

  "input_mappings": {
    "prompt": {
      "source": "{{PREVIOUS_OUTPUT}}",
      "description": "Positive prompt - main image description"
    },
    "negative_prompt": {
      "default": "blurry, bad quality, watermark, text, distorted",
      "description": "Negative prompt - what to avoid"
    },
    "width": {
      "default": 1024,
      "description": "Image width in pixels"
    },
    "height": {
      "default": 1024,
      "description": "Image height in pixels"
    },
    "steps": {
      "default": 25,
      "description": "Number of sampling steps"
    },
    "cfg": {
      "default": 5.5,
      "description": "Classifier Free Guidance scale"
    },
    "seed": {
      "default": "random",
      "description": "Seed for reproducibility"
    }
  },

  "output_mapping": {
    "output_type": "image",
    "format": "png",
    "description": "Generated PNG image"
  },

  "meta": {
    "estimated_duration_seconds": "8",
    "quality_rating": 2,
    "requires_gpu": true,
    "gpu_vram_mb": 5000,
    "model_file": "sd3.5_large (TensorRT compiled)",
    "recommended_resolution": "1024x1024",
    "supported_resolutions": [
      "512x512",
      "768x768",
      "1024x1024"
    ],
    "notes": "Triton backend provides 2.3x speedup vs ComfyUI through TensorRT compilation. Best for workshop scenarios with multiple simultaneous users. Requires Triton server running with compiled SD3.5 models.",
    "workshop_benefits": [
      "Dynamic batching: Multiple requests bundled for efficiency",
      "~8-12s per image vs ~20-60s with ComfyUI",
      "40% less VRAM through FP8 quantization",
      "10 students simultaneous: ~25s total vs ~200s sequential"
    ],
    "fallback": "ComfyUI (output_image_sd35_large) if Triton unavailable"
  }
}
