{
  "name": "output_video_ltx",
  "type": "output_chunk",
  "backend_type": "comfyui",
  "media_type": "video",
  "description": "LTX-Video - Fast text-to-video generation with Lightricks LTX model",

  "workflow": {
    "1": {
      "inputs": {
        "value": ""
      },
      "class_type": "PrimitiveString",
      "_meta": {
        "title": "positive_prompt"
      }
    },
    "2": {
      "inputs": {
        "value": "blurry, distorted, bad quality, watermark, low resolution, flickering"
      },
      "class_type": "PrimitiveString",
      "_meta": {
        "title": "negative_prompt"
      }
    },
    "3": {
      "inputs": {
        "ckpt_name": "ltx-video-2b-v0.9.safetensors"
      },
      "class_type": "LTXVCheckpointLoader",
      "_meta": {
        "title": "Load LTX-Video Model"
      }
    },
    "4": {
      "inputs": {
        "width": 1216,
        "height": 704,
        "length": 121,
        "batch_size": 1
      },
      "class_type": "LTXVImgToVideo",
      "_meta": {
        "title": "LTX Video Settings"
      }
    },
    "5": {
      "inputs": {
        "seed": 123456789,
        "steps": 25,
        "cfg": 3.0,
        "sampler_name": "euler",
        "scheduler": "simple",
        "denoise": 1.0,
        "model": ["3", 0],
        "positive": ["6", 0],
        "negative": ["7", 0],
        "latent_image": ["4", 0]
      },
      "class_type": "KSampler",
      "_meta": {
        "title": "Video Sampler"
      }
    },
    "6": {
      "inputs": {
        "text": ["1", 0],
        "clip": ["3", 1]
      },
      "class_type": "CLIPTextEncode",
      "_meta": {
        "title": "Encode Positive Prompt"
      }
    },
    "7": {
      "inputs": {
        "text": ["2", 0],
        "clip": ["3", 1]
      },
      "class_type": "CLIPTextEncode",
      "_meta": {
        "title": "Encode Negative Prompt"
      }
    },
    "8": {
      "inputs": {
        "samples": ["5", 0],
        "vae": ["3", 2]
      },
      "class_type": "VAEDecode",
      "_meta": {
        "title": "Decode Video Latents"
      }
    },
    "9": {
      "inputs": {
        "filename_prefix": "LTXVideo",
        "fps": 30,
        "images": ["8", 0]
      },
      "class_type": "VHS_VideoCombine",
      "_meta": {
        "title": "Save Video"
      }
    }
  },

  "input_mappings": {
    "prompt": {
      "node_id": "1",
      "field": "inputs.value",
      "source": "{{PREVIOUS_OUTPUT}}",
      "description": "Video generation prompt"
    },
    "negative_prompt": {
      "node_id": "2",
      "field": "inputs.value",
      "default": "blurry, distorted, bad quality, watermark, low resolution, flickering",
      "description": "Negative prompt - what to avoid"
    },
    "width": {
      "node_id": "4",
      "field": "inputs.width",
      "default": 1216,
      "description": "Video width (recommended: 1216)"
    },
    "height": {
      "node_id": "4",
      "field": "inputs.height",
      "default": 704,
      "description": "Video height (recommended: 704)"
    },
    "frames": {
      "node_id": "4",
      "field": "inputs.length",
      "default": 121,
      "description": "Number of frames (121 frames = ~4 seconds at 30fps)"
    },
    "steps": {
      "node_id": "5",
      "field": "inputs.steps",
      "default": 25,
      "description": "Sampling steps (higher = better quality, slower)"
    },
    "cfg": {
      "node_id": "5",
      "field": "inputs.cfg",
      "default": 3.0,
      "description": "Classifier Free Guidance (how closely to follow prompt)"
    },
    "fps": {
      "node_id": "9",
      "field": "inputs.fps",
      "default": 30,
      "description": "Frames per second"
    },
    "seed": {
      "node_id": "5",
      "field": "inputs.seed",
      "default": 123456789,
      "description": "Seed for reproducibility"
    }
  },

  "output_mapping": {
    "node_id": "9",
    "output_type": "video",
    "format": "mp4",
    "field": "filename_prefix",
    "description": "Video output from LTX-Video generation"
  },

  "meta": {
    "estimated_duration_seconds": "5-15",
    "requires_gpu": true,
    "gpu_vram_mb": 16000,
    "model_file": "ltx-video-2b-v0.9.safetensors",
    "recommended_resolution": "1216x704",
    "supported_resolutions": [
      "768x512",
      "1216x704",
      "1024x576"
    ],
    "recommended_frames": 121,
    "supported_fps": [24, 30],
    "notes": "LTX-Video is optimized for speed. Generates 4-second 30fps videos in ~5-10 seconds on RTX 4090. Resolution 1216x704 recommended.",
    "optimization_instruction": "Transform the INPUT TEXT into a clear, concise video generation prompt. Focus on: 1) Main subject and action, 2) Camera movement (if any), 3) Scene setting and environment, 4) Lighting and atmosphere, 5) Motion and dynamics. Keep it under 100 words. Be specific about movements and camera angles. Example: 'A red car driving down a winding mountain road at sunset, camera following from behind, warm golden light, smooth tracking shot, trees passing by on both sides.'"
  }
}
